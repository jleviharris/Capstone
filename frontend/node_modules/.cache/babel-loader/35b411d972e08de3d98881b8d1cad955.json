{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanharris/Desktop/devCodeCamp/Week8/Projects/SocialMediaGroupProject/ImpostersCodeBook/frontend/src/components/Posts/likeButton.js\",\n    _s = $RefreshSig$();\n\nimport AuthContext from \"../../context/AuthContext\";\nimport { useState, useEffect, useContext } from \"react\";\nimport \"../../App.css\";\nimport AxiosPosts from \"../../Routes/postRoutes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CustomButton = _ref => {\n  _s();\n\n  let {\n    post\n  } = _ref;\n  const [buttonClass, setButtonClass] = useState(\"likeButton\");\n  const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n  const [numOfLikes, setNumOfLikes] = useState(0);\n  const [numOfDislikes, setNumOfDisLikes] = useState(0);\n  const {\n    user\n  } = useContext(AuthContext);\n  const userId = user._id || null;\n  useEffect(() => {\n    if (post.dislikes.includes(userId)) {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButtonActive\");\n    } else if (post.likes.includes(userId)) {\n      setButtonClass(\"likeButtonActive\");\n      setButtonClass2(\"dislikeButton\");\n    } else {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButton\");\n    }\n  }, []);\n  let theNumOfLikes;\n  let theNumOfDislikes;\n\n  async function getAPostsLikes(postId) {\n    let theNumOfLikes = await AxiosPosts.getAPostsLikes(postId);\n    return theNumOfLikes.likes;\n  }\n\n  async function getAPostsDislikes(postId) {\n    let theNumOfDislikes = await AxiosPosts.getAPostsDislikes(postId);\n    return theNumOfDislikes.dislikes;\n  }\n\n  setNumOfLikes(getAPostsLikes(post));\n  setNumOfDisLikes(getAPostsDislikes());\n\n  function handleClick(event) {\n    async function updateTheLikeList(postId, obj) {\n      await AxiosPosts.updatePostsLikes(postId, obj);\n      return obj;\n    }\n\n    async function updateTheDislikeList(postId, obj) {\n      await AxiosPosts.updatePostsDislikes(postId, obj);\n      return obj;\n    }\n\n    async function updateTheLikeListRemove(postId, obj) {\n      await AxiosPosts.updatePostsLikesRemove(postId, obj);\n      return obj;\n    }\n\n    async function updateTheDislikeListRemove(postId, obj) {\n      await AxiosPosts.updatePostsDislikesRemove(postId, obj);\n      return obj;\n    }\n\n    let likes = \"likes\";\n    let dislikes = \"dislikes\";\n\n    if (event.target.id === \"like\") {\n      if (buttonClass === \"likeButton\") {\n        setButtonClass(\"likeButtonActive\");\n        updateTheLikeList(post._id, {\n          likes: userId\n        });\n        updateTheDislikeListRemove(post._id, {\n          dislikes: userId\n        });\n        setButtonClass2(\"dislikeButton\");\n      } else {\n        setButtonClass(\"likeButton\");\n      }\n    } else if (event.target.id === \"dislike\") {\n      if (buttonClass2 === \"dislikeButton\") {\n        setButtonClass2(\"dislikeButtonActive\");\n        updateTheLikeListRemove(post._id, {\n          likes: userId\n        });\n        updateTheDislikeList(post._id, {\n          dislikes: userId\n        });\n        setButtonClass(\"likeButton\");\n      } else {\n        setButtonClass2(\"dislikeButton\");\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: buttonClass,\n      onClick: event => {\n        handleClick(event);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: theNumOfLikes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        id: \"like\",\n        className: \"fa fa-thumbs-up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: buttonClass2,\n      onClick: event => {\n        handleClick(event);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: theNumOfDislikes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        id: \"dislike\",\n        className: \"fa fa-thumbs-down\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CustomButton, \"CN2Q090jtJsZjGInaDbRRpcgGg4=\");\n\n_c = CustomButton;\nexport default CustomButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomButton\");","map":{"version":3,"names":["AuthContext","useState","useEffect","useContext","AxiosPosts","CustomButton","post","buttonClass","setButtonClass","buttonClass2","setButtonClass2","numOfLikes","setNumOfLikes","numOfDislikes","setNumOfDisLikes","user","userId","_id","dislikes","includes","likes","theNumOfLikes","theNumOfDislikes","getAPostsLikes","postId","getAPostsDislikes","handleClick","event","updateTheLikeList","obj","updatePostsLikes","updateTheDislikeList","updatePostsDislikes","updateTheLikeListRemove","updatePostsLikesRemove","updateTheDislikeListRemove","updatePostsDislikesRemove","target","id"],"sources":["/Users/jonathanharris/Desktop/devCodeCamp/Week8/Projects/SocialMediaGroupProject/ImpostersCodeBook/frontend/src/components/Posts/likeButton.js"],"sourcesContent":["import AuthContext from \"../../context/AuthContext\";\nimport { useState, useEffect, useContext } from \"react\";\nimport \"../../App.css\";\nimport AxiosPosts from \"../../Routes/postRoutes\";\n\nconst CustomButton = ({ post }) => {\n  const [buttonClass, setButtonClass] = useState(\"likeButton\");\n  const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n  const [numOfLikes, setNumOfLikes] = useState(0);\n  const [numOfDislikes, setNumOfDisLikes] = useState(0);\n  const { user } = useContext(AuthContext);\n  const userId = user._id || null;\n\n  useEffect(() => {\n    if (post.dislikes.includes(userId)) {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButtonActive\");\n    } else if (post.likes.includes(userId)) {\n      setButtonClass(\"likeButtonActive\");\n      setButtonClass2(\"dislikeButton\");\n    } else {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButton\");\n    }\n  }, []);\n  let theNumOfLikes;\n  let theNumOfDislikes;\n  async function getAPostsLikes(postId) {\n    let theNumOfLikes = await AxiosPosts.getAPostsLikes(postId);\n    return theNumOfLikes.likes;\n  }\n  async function getAPostsDislikes(postId) {\n    let theNumOfDislikes = await AxiosPosts.getAPostsDislikes(postId);\n    return theNumOfDislikes.dislikes;\n  }\n  setNumOfLikes(getAPostsLikes(post));\n  setNumOfDisLikes(getAPostsDislikes());\n  \n  \n  \n \n\n  function handleClick(event) {\n\n    async function updateTheLikeList(postId, obj) {\n      await AxiosPosts.updatePostsLikes(postId, obj);\n      return obj;\n    }\n    async function updateTheDislikeList(postId, obj) {\n      await AxiosPosts.updatePostsDislikes(postId, obj);\n      return obj;\n    }\n    async function updateTheLikeListRemove(postId, obj) {\n      await AxiosPosts.updatePostsLikesRemove(postId, obj);\n      return obj;\n    }\n    async function updateTheDislikeListRemove(postId, obj) {\n      await AxiosPosts.updatePostsDislikesRemove(postId, obj);\n      return obj;\n    }\n   \n\n\n    let likes=\"likes\";\n    let dislikes=\"dislikes\";\n    if (event.target.id === \"like\") {\n      if (buttonClass === \"likeButton\") {\n        setButtonClass(\"likeButtonActive\");\n        updateTheLikeList(post._id, { likes: userId });\n        updateTheDislikeListRemove(post._id,  {dislikes: userId});\n        setButtonClass2(\"dislikeButton\");\n      } else {\n        setButtonClass(\"likeButton\");\n      }\n    } else if (event.target.id === \"dislike\") {\n      if (buttonClass2 === \"dislikeButton\") {\n        setButtonClass2(\"dislikeButtonActive\");\n        updateTheLikeListRemove(post._id, { likes: userId });\n        updateTheDislikeList(post._id, {dislikes: userId});\n        setButtonClass(\"likeButton\");\n      } else {\n        setButtonClass2(\"dislikeButton\");\n      }\n    }\n  }\n  return (\n    <div>\n      <button\n        className={buttonClass}\n        onClick={(event) => {\n          handleClick(event);\n        }}\n      >\n        <div>{theNumOfLikes}</div>\n        <i id=\"like\" className=\"fa fa-thumbs-up\"></i>\n      </button>\n      <button\n        className={buttonClass2}\n        onClick={(event) => {\n          handleClick(event);\n        }}\n      >\n        <div>{theNumOfDislikes}</div>\n        <i id=\"dislike\" className=\"fa fa-thumbs-down\"></i>\n      </button>\n    </div>\n  );\n};\n\nexport default CustomButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}