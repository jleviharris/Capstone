{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanharris/Desktop/devCodeCamp/Week9/Projects/Capstone/frontend/src/components/Spots/CustomButtonSpots.js\",\n    _s = $RefreshSig$();\n\nimport AuthContext from \"../../context/AuthContext\";\nimport { useState, useEffect, useContext } from \"react\";\nimport \"../../App.css\";\nimport AxiosSpots from \"../../Routes/spotsRoutes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CustomButtonSpots = _ref => {\n  _s();\n\n  let {\n    singleSpot\n  } = _ref;\n  const [buttonClass, setButtonClass] = useState(\"likeButton\");\n  const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n  const [numOfLikes, setNumOfLikes] = useState(null);\n  const [numOfDislikes, setNumOfDislikes] = useState(null);\n  const {\n    user\n  } = useContext(AuthContext);\n  const userId = user._id || null; // const spotId = singleSpot._id || null;\n\n  useEffect(() => {\n    setNumOfLikes(singleSpot.likes.length);\n    setNumOfDislikes(singleSpot.dislikes.length);\n\n    if (singleSpot.dislikes.includes(userId)) {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButtonActive\");\n    } else if (singleSpot.likes.includes(userId)) {\n      setButtonClass(\"likeButtonActive\");\n      setButtonClass2(\"dislikeButton\");\n    } else {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButton\");\n    }\n  }, []);\n\n  function handleClick(event) {\n    async function updateTheLikeList(spotId, obj) {\n      await AxiosSpots.updateSpotsLikes(spotId, obj);\n      return obj;\n    }\n\n    async function updateTheDislikeList(spotId, obj) {\n      await AxiosSpots.updateSpotsDislikes(spotId, obj);\n      return obj;\n    }\n\n    async function updateTheLikeListRemove(spotId, obj) {\n      await AxiosSpots.updateSpotsLikesRemove(spotId, obj);\n      return obj;\n    }\n\n    async function updateTheDislikeListRemove(spotId, obj) {\n      await AxiosSpots.updateSpotsDislikesRemove(spotId, obj);\n      return obj;\n    }\n\n    let likes = \"likes\";\n    let dislikes = \"dislikes\";\n\n    if (event.target.id === \"like\") {\n      if (buttonClass === \"likeButton\") {\n        setButtonClass(\"likeButtonActive\");\n        updateTheLikeList(singleSpot._id, {\n          likes: userId\n        });\n        updateTheDislikeListRemove(singleSpot._id, {\n          dislikes: userId\n        });\n        setButtonClass2(\"dislikeButton\");\n      } else {\n        setButtonClass(\"likeButton\");\n      }\n    } else if (event.target.id === \"dislike\") {\n      if (buttonClass2 === \"dislikeButton\") {\n        setButtonClass2(\"dislikeButtonActive\");\n        updateTheLikeListRemove(singleSpot._id, {\n          likes: userId\n        });\n        updateTheDislikeList(singleSpot._id, {\n          dislikes: userId\n        });\n        setButtonClass(\"likeButton\");\n      } else {\n        setButtonClass2(\"dislikeButton\");\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"likeAndDislike\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: buttonClass,\n      onClick: event => {\n        handleClick(event);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: numOfLikes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        id: \"like\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"favorite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: buttonClass2,\n      onClick: event => {\n        handleClick(event);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: numOfDislikes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        id: \"dislike\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"heart_broken\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CustomButtonSpots, \"aysWkRV38fy2L5etinkbM96zJzs=\");\n\n_c = CustomButtonSpots;\nexport default CustomButtonSpots;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomButtonSpots\");","map":{"version":3,"names":["AuthContext","useState","useEffect","useContext","AxiosSpots","CustomButtonSpots","singleSpot","buttonClass","setButtonClass","buttonClass2","setButtonClass2","numOfLikes","setNumOfLikes","numOfDislikes","setNumOfDislikes","user","userId","_id","likes","length","dislikes","includes","handleClick","event","updateTheLikeList","spotId","obj","updateSpotsLikes","updateTheDislikeList","updateSpotsDislikes","updateTheLikeListRemove","updateSpotsLikesRemove","updateTheDislikeListRemove","updateSpotsDislikesRemove","target","id"],"sources":["/Users/jonathanharris/Desktop/devCodeCamp/Week9/Projects/Capstone/frontend/src/components/Spots/CustomButtonSpots.js"],"sourcesContent":["import AuthContext from \"../../context/AuthContext\";\nimport { useState, useEffect, useContext } from \"react\";\nimport \"../../App.css\";\nimport AxiosSpots from \"../../Routes/spotsRoutes\";\n\nconst CustomButtonSpots = ({ singleSpot }) => {\n  const [buttonClass, setButtonClass] = useState(\"likeButton\");\n  const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n  const [numOfLikes, setNumOfLikes] = useState(null);\n  const [numOfDislikes, setNumOfDislikes] = useState(null);\n  const { user } = useContext(AuthContext);\n  const userId = user._id || null;\n  // const spotId = singleSpot._id || null;\n  \n\n  useEffect(() => {\n    setNumOfLikes(singleSpot.likes.length);\n    setNumOfDislikes(singleSpot.dislikes.length);\n    if (singleSpot.dislikes.includes(userId)) {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButtonActive\");\n    } else if (singleSpot.likes.includes(userId)) {\n      setButtonClass(\"likeButtonActive\");\n      setButtonClass2(\"dislikeButton\");\n    } else {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButton\");\n    }\n  }, []);\n\n  function handleClick(event) {\n    async function updateTheLikeList(spotId, obj) {\n      await AxiosSpots.updateSpotsLikes(spotId, obj);\n      return obj;\n    }\n    async function updateTheDislikeList(spotId, obj) {\n      await AxiosSpots.updateSpotsDislikes(spotId, obj);\n      return obj;\n    }\n    async function updateTheLikeListRemove(spotId, obj) {\n      await AxiosSpots.updateSpotsLikesRemove(spotId, obj);\n      return obj;\n    }\n    async function updateTheDislikeListRemove(spotId, obj) {\n      await AxiosSpots.updateSpotsDislikesRemove(spotId, obj);\n      return obj;\n    }\n\n    let likes = \"likes\";\n    let dislikes = \"dislikes\";\n    if (event.target.id === \"like\") {\n      if (buttonClass === \"likeButton\") {\n        setButtonClass(\"likeButtonActive\");\n        updateTheLikeList(singleSpot._id, { likes: userId });\n        updateTheDislikeListRemove(singleSpot._id, { dislikes: userId });\n        setButtonClass2(\"dislikeButton\");\n      } else {\n        setButtonClass(\"likeButton\");\n      }\n    } else if (event.target.id === \"dislike\") {\n      if (buttonClass2 === \"dislikeButton\") {\n        setButtonClass2(\"dislikeButtonActive\");\n        updateTheLikeListRemove(singleSpot._id, { likes: userId });\n        updateTheDislikeList(singleSpot._id, { dislikes: userId });\n        setButtonClass(\"likeButton\");\n      } else {\n        setButtonClass2(\"dislikeButton\");\n      }\n    }\n  }\n  return (\n    <div className=\"likeAndDislike\">\n      <button\n        className={buttonClass}\n        onClick={(event) => {\n          handleClick(event);\n        }}\n      >\n        <div>{numOfLikes}</div>\n        <i id=\"like\">\n          <span className=\"material-symbols-outlined\">favorite</span>\n        </i>\n      </button>\n      <button\n        className={buttonClass2}\n        onClick={(event) => {\n          handleClick(event);\n        }}\n      >\n        <div>{numOfDislikes}</div>\n        <i id=\"dislike\">\n          <span className=\"material-symbols-outlined\">heart_broken</span>\n        </i>\n      </button>\n    </div>\n  );\n};\n\nexport default CustomButtonSpots;\n"],"mappings":";;;AAAA,OAAOA,WAAP,MAAwB,2BAAxB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,OAAO,eAAP;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;;AAEA,MAAMC,iBAAiB,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAAEC;EAAF,CAAmB;EAC5C,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,YAAD,CAA9C;EACA,MAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,eAAD,CAAhD;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM,CAACY,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,CAAC,IAAD,CAAlD;EACA,MAAM;IAAEc;EAAF,IAAWZ,UAAU,CAACH,WAAD,CAA3B;EACA,MAAMgB,MAAM,GAAGD,IAAI,CAACE,GAAL,IAAY,IAA3B,CAN4C,CAO5C;;EAGAf,SAAS,CAAC,MAAM;IACdU,aAAa,CAACN,UAAU,CAACY,KAAX,CAAiBC,MAAlB,CAAb;IACAL,gBAAgB,CAACR,UAAU,CAACc,QAAX,CAAoBD,MAArB,CAAhB;;IACA,IAAIb,UAAU,CAACc,QAAX,CAAoBC,QAApB,CAA6BL,MAA7B,CAAJ,EAA0C;MACxCR,cAAc,CAAC,YAAD,CAAd;MACAE,eAAe,CAAC,qBAAD,CAAf;IACD,CAHD,MAGO,IAAIJ,UAAU,CAACY,KAAX,CAAiBG,QAAjB,CAA0BL,MAA1B,CAAJ,EAAuC;MAC5CR,cAAc,CAAC,kBAAD,CAAd;MACAE,eAAe,CAAC,eAAD,CAAf;IACD,CAHM,MAGA;MACLF,cAAc,CAAC,YAAD,CAAd;MACAE,eAAe,CAAC,eAAD,CAAf;IACD;EACF,CAbQ,EAaN,EAbM,CAAT;;EAeA,SAASY,WAAT,CAAqBC,KAArB,EAA4B;IAC1B,eAAeC,iBAAf,CAAiCC,MAAjC,EAAyCC,GAAzC,EAA8C;MAC5C,MAAMtB,UAAU,CAACuB,gBAAX,CAA4BF,MAA5B,EAAoCC,GAApC,CAAN;MACA,OAAOA,GAAP;IACD;;IACD,eAAeE,oBAAf,CAAoCH,MAApC,EAA4CC,GAA5C,EAAiD;MAC/C,MAAMtB,UAAU,CAACyB,mBAAX,CAA+BJ,MAA/B,EAAuCC,GAAvC,CAAN;MACA,OAAOA,GAAP;IACD;;IACD,eAAeI,uBAAf,CAAuCL,MAAvC,EAA+CC,GAA/C,EAAoD;MAClD,MAAMtB,UAAU,CAAC2B,sBAAX,CAAkCN,MAAlC,EAA0CC,GAA1C,CAAN;MACA,OAAOA,GAAP;IACD;;IACD,eAAeM,0BAAf,CAA0CP,MAA1C,EAAkDC,GAAlD,EAAuD;MACrD,MAAMtB,UAAU,CAAC6B,yBAAX,CAAqCR,MAArC,EAA6CC,GAA7C,CAAN;MACA,OAAOA,GAAP;IACD;;IAED,IAAIR,KAAK,GAAG,OAAZ;IACA,IAAIE,QAAQ,GAAG,UAAf;;IACA,IAAIG,KAAK,CAACW,MAAN,CAAaC,EAAb,KAAoB,MAAxB,EAAgC;MAC9B,IAAI5B,WAAW,KAAK,YAApB,EAAkC;QAChCC,cAAc,CAAC,kBAAD,CAAd;QACAgB,iBAAiB,CAAClB,UAAU,CAACW,GAAZ,EAAiB;UAAEC,KAAK,EAAEF;QAAT,CAAjB,CAAjB;QACAgB,0BAA0B,CAAC1B,UAAU,CAACW,GAAZ,EAAiB;UAAEG,QAAQ,EAAEJ;QAAZ,CAAjB,CAA1B;QACAN,eAAe,CAAC,eAAD,CAAf;MACD,CALD,MAKO;QACLF,cAAc,CAAC,YAAD,CAAd;MACD;IACF,CATD,MASO,IAAIe,KAAK,CAACW,MAAN,CAAaC,EAAb,KAAoB,SAAxB,EAAmC;MACxC,IAAI1B,YAAY,KAAK,eAArB,EAAsC;QACpCC,eAAe,CAAC,qBAAD,CAAf;QACAoB,uBAAuB,CAACxB,UAAU,CAACW,GAAZ,EAAiB;UAAEC,KAAK,EAAEF;QAAT,CAAjB,CAAvB;QACAY,oBAAoB,CAACtB,UAAU,CAACW,GAAZ,EAAiB;UAAEG,QAAQ,EAAEJ;QAAZ,CAAjB,CAApB;QACAR,cAAc,CAAC,YAAD,CAAd;MACD,CALD,MAKO;QACLE,eAAe,CAAC,eAAD,CAAf;MACD;IACF;EACF;;EACD,oBACE;IAAK,SAAS,EAAC,gBAAf;IAAA,wBACE;MACE,SAAS,EAAEH,WADb;MAEE,OAAO,EAAGgB,KAAD,IAAW;QAClBD,WAAW,CAACC,KAAD,CAAX;MACD,CAJH;MAAA,wBAME;QAAA,UAAMZ;MAAN;QAAA;QAAA;QAAA;MAAA,QANF,eAOE;QAAG,EAAE,EAAC,MAAN;QAAA,uBACE;UAAM,SAAS,EAAC,2BAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAPF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAYE;MACE,SAAS,EAAEF,YADb;MAEE,OAAO,EAAGc,KAAD,IAAW;QAClBD,WAAW,CAACC,KAAD,CAAX;MACD,CAJH;MAAA,wBAME;QAAA,UAAMV;MAAN;QAAA;QAAA;QAAA;MAAA,QANF,eAOE;QAAG,EAAE,EAAC,SAAN;QAAA,uBACE;UAAM,SAAS,EAAC,2BAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAPF;IAAA;MAAA;MAAA;MAAA;IAAA,QAZF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA0BD,CA3FD;;GAAMR,iB;;KAAAA,iB;AA6FN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}