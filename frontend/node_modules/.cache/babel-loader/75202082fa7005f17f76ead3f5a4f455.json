{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanharris/Desktop/devCodeCamp/Week8/Projects/SocialMediaGroupProject/ImpostersCodeBook/frontend/src/components/Posts/likeButton.js\",\n    _s = $RefreshSig$();\n\n// import { useState, useEffect } from \"react\";\n// import \"../../App.css\";\n// import AxiosPosts from \"../../Routes/postRoutes\";\n// const CustomButton = ({ post }) => {\n//   const [buttonClass, setButtonClass] = useState(\"likeButton\");\n//   const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n//   useEffect(() => {\n//     if (post.likeStatus === false) {\n//       setButtonClass(\"likeButton\");\n//       setButtonClass2(\"dislikeButtonActive\");\n//     } else if (post.likeStatus === true) {\n//       setButtonClass(\"likeButtonActive\");\n//       setButtonClass2(\"dislikeButton\");\n//     } else {\n//       setButtonClass(\"likeButton\");\n//       setButtonClass2(\"dislikeButton\");\n//     }\n//   }, []);\n//   function handleClick(event) {\n//     let likedPost = {\n//       likeStatus: true,\n//     };\n//     let dislikedPost = {\n//       likeStatus: false,\n//     };\n//     async function setToLike(postId, obj) {\n//       await AxiosPosts.updateAPost(postId, obj);\n//       return obj;\n//     }\n//     async function setToDislike(postId, obj) {\n//       await AxiosPosts.updateAPost(postId, obj);\n//       return obj;\n//     }\n//     if (event.target.id === \"like\") {\n//       if (buttonClass === \"likeButton\") {\n//         setButtonClass(\"likeButtonActive\");\n//         setToLike(post._id, likedPost);\n//         console.log(likedPost);\n//         console.log(post);\n//         setButtonClass2(\"dislikeButton\");\n//       } else {\n//         setButtonClass(\"likeButton\");\n//       }\n//     } else if (event.target.id === \"dislike\") {\n//       if (buttonClass2 === \"dislikeButton\") {\n//         setButtonClass2(\"dislikeButtonActive\");\n//         setToDislike(post._id, dislikedPost);\n//         setButtonClass(\"likeButton\");\n//       } else {\n//         setButtonClass2(\"dislikeButton\");\n//       }\n//     }\n//   }\n//   return (\n//     <div>\n//       <button className={buttonClass} onClick={handleClick}>\n//         <i id=\"like\" className=\"fa fa-thumbs-up\"></i>\n//       </button>\n//       <button className={buttonClass2} onClick={handleClick}>\n//         <i id=\"dislike\" className=\"fa fa-thumbs-down\"></i>\n//       </button>\n//     </div>\n//   );\n// };\n// export default CustomButton;\nimport { useState, useEffect } from \"react\";\nimport \"../../App.css\";\nimport AxiosPosts from \"../../Routes/postRoutes\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CustomButton = _ref => {\n  _s();\n\n  let {\n    post\n  } = _ref;\n  const [buttonClass, setButtonClass] = useState(\"likeButton\");\n  const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n  const {\n    user\n  } = useContext(AuthContext);\n  const userId = user._id || null;\n  useEffect(() => {\n    if (post.likes.includes(userId)) {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButtonActive\");\n    } else if (post.dislikes.includes(userId)) {\n      setButtonClass(\"likeButtonActive\");\n      setButtonClass2(\"dislikeButton\");\n    } else {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButton\");\n    }\n  }, []); // function addToLikeList (post, userId) {\n  //   post.likes.push(userId)\n  // };\n  // function addtoDislikeList (post, userId) {\n  //   post.dislikes.push(userId)\n  // };\n  // function removeFromLikeList (post, userId) {\n  //   let newLikeList = [];\n  //   for (let i = 0; i < post.likes.length; i++) {\n  //       if (post.likes[i] !== userId) {\n  //         newLikeList.push(post.likes[i]);\n  //       }\n  //   post.likes = newLikeList;\n  // };\n  // function removeFromDislikeList (post, userId) {\n  //   let newDislikeList = [];\n  //   for (let i = 0; i < post.dislikes.length; i++) {\n  //       if (post.dislikes[i] !== userId) {\n  //         newDislikeList.push(post.dislikes[i]);\n  //       }\n  //   post.likes = newDislikeList;\n  // };\n\n  function handleClick(event) {\n    async function getNewLikeListAdded() {\n      let newLikeListAdded = post.likes.push(userId);\n      return newLikeListAdded;\n    }\n\n    ;\n\n    async function getNewDislikeListAdded() {\n      let newikeListAdded = post.likes.push(userId);\n      return newLikeListAdded;\n    }\n\n    ;\n\n    async function getNewLikeListRemoved() {}\n\n    ;\n\n    async function getNewDislikeListRemoved() {}\n\n    ;\n\n    async function updateList(postId, obj) {\n      await AxiosPosts.updateAPost(postId, obj);\n      return obj;\n    }\n\n    if (event.target.id === \"like\") {\n      if (buttonClass === \"likeButton\") {\n        setButtonClass(\"likeButtonActive\");\n        getNewLikeListAdded();\n        getNewDislikeListRemoved();\n        updateList(post._id, newLikeListAdded);\n        updateList(post._id, newDislikeListRemoved);\n        setButtonClass2(\"dislikeButton\");\n      } else {\n        setButtonClass(\"likeButton\");\n      }\n    } else if (event.target.id === \"dislike\") {\n      if (buttonClass2 === \"dislikeButton\") {\n        setButtonClass2(\"dislikeButtonActive\");\n        getNewLikeListRemoved();\n        getNewDislikedListAdded();\n        updateList(post._id, newLikeListRemoved);\n        updateList(post._id, newDislikeListAdded);\n        setButtonClass(\"likeButton\");\n      } else {\n        setButtonClass2(\"dislikeButton\");\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: buttonClass,\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        id: \"like\",\n        className: \"fa fa-thumbs-up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: buttonClass2,\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        id: \"dislike\",\n        className: \"fa fa-thumbs-down\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CustomButton, \"tb3ol9YNf8Ob4LGRvhcRGFX3fGI=\");\n\n_c = CustomButton;\nexport default CustomButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomButton\");","map":{"version":3,"names":["useState","useEffect","AxiosPosts","CustomButton","post","buttonClass","setButtonClass","buttonClass2","setButtonClass2","user","useContext","AuthContext","userId","_id","likes","includes","dislikes","handleClick","event","getNewLikeListAdded","newLikeListAdded","push","getNewDislikeListAdded","newikeListAdded","getNewLikeListRemoved","getNewDislikeListRemoved","updateList","postId","obj","updateAPost","target","id","newDislikeListRemoved","getNewDislikedListAdded","newLikeListRemoved","newDislikeListAdded"],"sources":["/Users/jonathanharris/Desktop/devCodeCamp/Week8/Projects/SocialMediaGroupProject/ImpostersCodeBook/frontend/src/components/Posts/likeButton.js"],"sourcesContent":["// import { useState, useEffect } from \"react\";\n// import \"../../App.css\";\n// import AxiosPosts from \"../../Routes/postRoutes\";\n\n// const CustomButton = ({ post }) => {\n//   const [buttonClass, setButtonClass] = useState(\"likeButton\");\n//   const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n\n//   useEffect(() => {\n//     if (post.likeStatus === false) {\n//       setButtonClass(\"likeButton\");\n//       setButtonClass2(\"dislikeButtonActive\");\n//     } else if (post.likeStatus === true) {\n//       setButtonClass(\"likeButtonActive\");\n//       setButtonClass2(\"dislikeButton\");\n//     } else {\n//       setButtonClass(\"likeButton\");\n//       setButtonClass2(\"dislikeButton\");\n//     }\n//   }, []);\n\n//   function handleClick(event) {\n//     let likedPost = {\n//       likeStatus: true,\n//     };\n//     let dislikedPost = {\n//       likeStatus: false,\n//     };\n\n//     async function setToLike(postId, obj) {\n//       await AxiosPosts.updateAPost(postId, obj);\n//       return obj;\n//     }\n//     async function setToDislike(postId, obj) {\n//       await AxiosPosts.updateAPost(postId, obj);\n//       return obj;\n//     }\n//     if (event.target.id === \"like\") {\n//       if (buttonClass === \"likeButton\") {\n//         setButtonClass(\"likeButtonActive\");\n//         setToLike(post._id, likedPost);\n//         console.log(likedPost);\n//         console.log(post);\n//         setButtonClass2(\"dislikeButton\");\n//       } else {\n//         setButtonClass(\"likeButton\");\n//       }\n//     } else if (event.target.id === \"dislike\") {\n//       if (buttonClass2 === \"dislikeButton\") {\n//         setButtonClass2(\"dislikeButtonActive\");\n//         setToDislike(post._id, dislikedPost);\n//         setButtonClass(\"likeButton\");\n//       } else {\n//         setButtonClass2(\"dislikeButton\");\n//       }\n//     }\n//   }\n//   return (\n//     <div>\n//       <button className={buttonClass} onClick={handleClick}>\n//         <i id=\"like\" className=\"fa fa-thumbs-up\"></i>\n//       </button>\n//       <button className={buttonClass2} onClick={handleClick}>\n//         <i id=\"dislike\" className=\"fa fa-thumbs-down\"></i>\n//       </button>\n//     </div>\n//   );\n// };\n\n// export default CustomButton;\n\nimport { useState, useEffect } from \"react\";\nimport \"../../App.css\";\nimport AxiosPosts from \"../../Routes/postRoutes\";\n\n\nconst CustomButton = ({ post }) => {\n  const [buttonClass, setButtonClass] = useState(\"likeButton\");\n  const [buttonClass2, setButtonClass2] = useState(\"dislikeButton\");\n  const { user } = useContext(AuthContext);\n  const userId = user._id || null;\n\n  useEffect(() => {\n    if (post.likes.includes(userId)) {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButtonActive\");\n    } else if (post.dislikes.includes(userId)) {\n      setButtonClass(\"likeButtonActive\");\n      setButtonClass2(\"dislikeButton\");\n    } else {\n      setButtonClass(\"likeButton\");\n      setButtonClass2(\"dislikeButton\");\n    }\n  }, []);\n\n\n// function addToLikeList (post, userId) {\n//   post.likes.push(userId)\n// };\n\n// function addtoDislikeList (post, userId) {\n//   post.dislikes.push(userId)\n// };\n\n// function removeFromLikeList (post, userId) {\n//   let newLikeList = [];\n//   for (let i = 0; i < post.likes.length; i++) {\n//       if (post.likes[i] !== userId) {\n//         newLikeList.push(post.likes[i]);\n//       }\n//   post.likes = newLikeList;\n// };\n\n// function removeFromDislikeList (post, userId) {\n//   let newDislikeList = [];\n//   for (let i = 0; i < post.dislikes.length; i++) {\n//       if (post.dislikes[i] !== userId) {\n//         newDislikeList.push(post.dislikes[i]);\n//       }\n//   post.likes = newDislikeList;\n// };\n\n  function handleClick(event) {\n    async function getNewLikeListAdded() {\n      let newLikeListAdded = post.likes.push(userId);\n      return newLikeListAdded;\n    };\n    async function getNewDislikeListAdded() {\n      let newikeListAdded = post.likes.push(userId);\n      return newLikeListAdded;\n    };\n    async function getNewLikeListRemoved() {};\n    async function getNewDislikeListRemoved() {};\n\n\n    async function updateList(postId, obj) {\n      await AxiosPosts.updateAPost(postId, obj);\n      return obj;\n    }\n   \n    if (event.target.id === \"like\") {\n      if (buttonClass === \"likeButton\") {\n        setButtonClass(\"likeButtonActive\");\n        getNewLikeListAdded();\n        getNewDislikeListRemoved();\n        updateList(post._id, newLikeListAdded);\n        updateList(post._id, newDislikeListRemoved);\n        setButtonClass2(\"dislikeButton\");\n      } else {\n        setButtonClass(\"likeButton\");\n      }\n    } else if (event.target.id === \"dislike\") {\n      if (buttonClass2 === \"dislikeButton\") {\n        setButtonClass2(\"dislikeButtonActive\");\n        getNewLikeListRemoved();\n        getNewDislikedListAdded();\n        updateList(post._id, newLikeListRemoved);\n        updateList(post._id, newDislikeListAdded);\n        setButtonClass(\"likeButton\");\n      } else {\n        setButtonClass2(\"dislikeButton\");\n      }\n    }\n  }\n  return (\n    <div>\n      <button className={buttonClass} onClick={handleClick}>\n        <i id=\"like\" className=\"fa fa-thumbs-up\"></i>\n      </button>\n      <button className={buttonClass2} onClick={handleClick}>\n        <i id=\"dislike\" className=\"fa fa-thumbs-down\"></i>\n      </button>\n    </div>\n  );\n};\n\nexport default CustomButton;"],"mappings":"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"},"metadata":{},"sourceType":"module"}