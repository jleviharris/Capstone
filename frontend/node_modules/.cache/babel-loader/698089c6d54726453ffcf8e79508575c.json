{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanharris/Desktop/devCodeCamp/Week8/Projects/SocialMediaGroupProject/ImpostersCodeBook/frontend/src/components/SideBar/SideBar.js\",\n    _s = $RefreshSig$();\n\nimport \"../../pages/ProfilePage/ProfilePage.css\";\nimport { CDBSidebar, CDBSidebarHeader, CDBSidebarMenuItem } from \"cdbreact\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport AuthContext from \"../../context/AuthContext\";\nimport AxiosOnlineStatus from \"../../Routes/status\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SideBar = () => {\n  _s();\n\n  const {\n    user\n  } = useContext(AuthContext);\n  const [online, setOnline] = useState();\n  const [onlineFriends, setOnlineFriends] = useState();\n  const [onlinePendingFriends, setOnlinePendingFriends] = useState();\n  const [onlineFriendRequests, setOnlineFriendRequests] = useState();\n  const [photo, setPhoto] = useState();\n  useEffect(() => {\n    if (user) {\n      getOnlineUsers();\n    }\n\n    if (user !== null) {\n      if (user.image !== null) {\n        if (user.image !== \"\") {\n          setPhoto(`http:localhost:3007/${user.image}`);\n        }\n      }\n    }\n  }, []);\n\n  async function getOnlineUsers() {\n    try {\n      let onlineUsers = await AxiosOnlineStatus.onlineUser();\n      if (onlineUsers) setOnline(onlineUsers);else console.log(\"Error getting list of online users, return was undefined\");\n    } catch (error) {\n      console.log(\"Error getting list of online users: \" + error);\n    }\n  }\n\n  function loadData() {\n    setTimeout(() => {\n      if (user !== null) {\n        if (user.friendsList !== null) {\n          if (Array.isArray(user.friendsList)) {\n            if (online && Array.isArray(online)) {\n              let tempUsers = online.filter(userId => user.friendsList.includes(userId));\n              setOnlineFriends(tempUsers);\n            }\n          }\n        }\n\n        if (user.pendingFriends !== null) {\n          if (Array.isArray(user.pendingFriends)) {\n            if (Array.isArray(online)) {\n              let tempUsers = online.filter(userId => user.pendingFriends.includes(userId));\n              setOnlinePendingFriends(tempUsers);\n            }\n          }\n        }\n\n        if (user.friendRequests !== null) {\n          if (Array.isArray(user.friendRequests)) {\n            if (Array.isArray(online)) {\n              let tempUsers = online.filter(userId => user.friendRequests.includes(userId));\n              setOnlineFriendRequests(tempUsers);\n            }\n          }\n        }\n\n        if (user.image !== \"\") {\n          if (user.image !== null) {\n            setPhoto();\n          } else {\n            setPhoto(\"https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image.png\");\n          }\n        }\n      }\n    }, 300);\n  }\n\n  loadData();\n  if (user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      width: \"60px\",\n      height: \"100%\",\n      // overflow: \"scroll initial\",\n      marginTop: \"-32px\",\n      position: \"absolute\",\n      fontSize: \"2em\"\n    },\n    children: /*#__PURE__*/_jsxDEV(CDBSidebar, {\n      textColor: \"#fff\",\n      backgroundColor: \"rgb(51, 59, 65)\",\n      children: [/*#__PURE__*/_jsxDEV(CDBSidebarHeader, {\n        prefix: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-bars fa-large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 37\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"text-decoration-none\",\n          style: {\n            color: \"inherit\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:3007/uploads/images/${user.image}`,\n            alt: \"default\",\n            className: \"profile-sidebar-img\",\n            style: {\n              width: \"100px\",\n              height: \"auto\",\n              margin: \"0em 0em 1em 2em\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              textAlign: \"center\",\n              fontSize: \"1em\",\n              margin: \"0em 0em 0em 1em\",\n              paddingBottom: \"0em\"\n            },\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CDBSidebarMenuItem, {\n        icon: \"user\",\n        style: {\n          fontSize: \"1rem\"\n        },\n        children: [online && online.length, \" Users online\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CDBSidebarMenuItem, {\n        icon: \"user\",\n        style: {\n          fontSize: \"1rem\"\n        },\n        children: [\"Friends (\", onlineFriends && onlineFriends.length || \"0\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CDBSidebarMenuItem, {\n        icon: \"user\",\n        style: {\n          fontSize: \"1rem\"\n        },\n        children: [\"Pending Friends (\", onlinePendingFriends && onlinePendingFriends.length || \"0\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CDBSidebarMenuItem, {\n        icon: \"user\",\n        style: {\n          fontSize: \"1rem\"\n        },\n        children: [\"Friend Requests (\", onlineFriendRequests && onlineFriendRequests.length || \"0\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 7\n  }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 15\n  }, this);\n};\n\n_s(SideBar, \"mzo+jbjihw4dAW8wRs/JnBTt0dw=\");\n\n_c = SideBar;\nexport default SideBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBar\");","map":{"version":3,"names":["CDBSidebar","CDBSidebarHeader","CDBSidebarMenuItem","React","useContext","useEffect","useState","AuthContext","AxiosOnlineStatus","SideBar","user","online","setOnline","onlineFriends","setOnlineFriends","onlinePendingFriends","setOnlinePendingFriends","onlineFriendRequests","setOnlineFriendRequests","photo","setPhoto","getOnlineUsers","image","onlineUsers","onlineUser","console","log","error","loadData","setTimeout","friendsList","Array","isArray","tempUsers","filter","userId","includes","pendingFriends","friendRequests","display","width","height","marginTop","position","fontSize","color","margin","textAlign","paddingBottom","name","length"],"sources":["/Users/jonathanharris/Desktop/devCodeCamp/Week8/Projects/SocialMediaGroupProject/ImpostersCodeBook/frontend/src/components/SideBar/SideBar.js"],"sourcesContent":["import \"../../pages/ProfilePage/ProfilePage.css\";\n\nimport { CDBSidebar, CDBSidebarHeader, CDBSidebarMenuItem } from \"cdbreact\";\nimport React, { useContext, useEffect, useState } from \"react\";\n\nimport AuthContext from \"../../context/AuthContext\";\nimport AxiosOnlineStatus from \"../../Routes/status\";\n\nconst SideBar = () => {\n  const { user } = useContext(AuthContext);\n  const [online, setOnline] = useState();\n  const [onlineFriends, setOnlineFriends] = useState();\n  const [onlinePendingFriends, setOnlinePendingFriends] = useState();\n  const [onlineFriendRequests, setOnlineFriendRequests] = useState();\n  const [photo, setPhoto] = useState();\n\n  useEffect(() => {\n    if (user) {\n      getOnlineUsers();\n    }\n    if (user !== null) {\n      if (user.image !== null) {\n        if (user.image !== \"\") {\n          setPhoto(`http:localhost:3007/${user.image}`);\n        }\n      }\n    }\n  }, []);\n\n  async function getOnlineUsers() {\n    try {\n      let onlineUsers = await AxiosOnlineStatus.onlineUser();\n\n      if (onlineUsers) setOnline(onlineUsers);\n      else\n        console.log(\"Error getting list of online users, return was undefined\");\n    } catch (error) {\n      console.log(\"Error getting list of online users: \" + error);\n    }\n  }\n\n  function loadData() {\n    setTimeout(() => {\n      if (user !== null) {\n        if (user.friendsList !== null) {\n          if (Array.isArray(user.friendsList)) {\n            if (online && Array.isArray(online)) {\n              let tempUsers = online.filter((userId) =>\n                user.friendsList.includes(userId)\n              );\n              setOnlineFriends(tempUsers);\n            }\n          }\n        }\n        if (user.pendingFriends !== null) {\n          if (Array.isArray(user.pendingFriends)) {\n            if (Array.isArray(online)) {\n              let tempUsers = online.filter((userId) =>\n                user.pendingFriends.includes(userId)\n              );\n              setOnlinePendingFriends(tempUsers);\n            }\n          }\n        }\n        if (user.friendRequests !== null) {\n          if (Array.isArray(user.friendRequests)) {\n            if (Array.isArray(online)) {\n              let tempUsers = online.filter((userId) =>\n                user.friendRequests.includes(userId)\n              );\n              setOnlineFriendRequests(tempUsers);\n            }\n          }\n        }\n        if (user.image !== \"\") {\n          if (user.image !== null) {\n            setPhoto();\n          } else {\n            setPhoto(\n              \"https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image.png\"\n            );\n          }\n        }\n      }\n    }, 300);\n  }\n\n  loadData();\n  if (user)\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          width: \"60px\",\n          height: \"100%\",\n          // overflow: \"scroll initial\",\n          marginTop: \"-32px\",\n          position: \"absolute\",\n          fontSize: \"2em\",\n        }}\n      >\n        <CDBSidebar textColor=\"#fff\" backgroundColor=\"rgb(51, 59, 65)\">\n          <CDBSidebarHeader prefix={<i className=\"fa fa-bars fa-large\"></i>}>\n            <a\n              href=\"/\"\n              className=\"text-decoration-none\"\n              style={{ color: \"inherit\" }}\n            >\n              <img\n                src={`http://localhost:3007/uploads/images/${user.image}`}\n                alt=\"default\"\n                className=\"profile-sidebar-img\"\n                style={{\n                  width: \"100px\",\n                  height: \"auto\",\n                  margin: \"0em 0em 1em 2em\",\n                }}\n              />\n              <h4\n                style={{\n                  textAlign: \"center\",\n                  fontSize: \"1em\",\n                  margin: \"0em 0em 0em 1em\",\n                  paddingBottom: \"0em\",\n                }}\n              >\n                {user.name}\n              </h4>\n            </a>\n          </CDBSidebarHeader>\n\n          <CDBSidebarMenuItem icon=\"user\" style={{ fontSize: \"1rem\" }}>\n            {online && online.length} Users online\n          </CDBSidebarMenuItem>\n\n          <CDBSidebarMenuItem icon=\"user\" style={{ fontSize: \"1rem\" }}>\n            Friends ({(onlineFriends && onlineFriends.length) || \"0\"})\n          </CDBSidebarMenuItem>\n\n          <CDBSidebarMenuItem icon=\"user\" style={{ fontSize: \"1rem\" }}>\n            Pending Friends (\n            {(onlinePendingFriends && onlinePendingFriends.length) || \"0\"})\n          </CDBSidebarMenuItem>\n          <CDBSidebarMenuItem icon=\"user\" style={{ fontSize: \"1rem\" }}>\n            Friend Requests (\n            {(onlineFriendRequests && onlineFriendRequests.length) || \"0\"})\n          </CDBSidebarMenuItem>\n        </CDBSidebar>\n      </div>\n    );\n  else return <div></div>;\n};\n\nexport default SideBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}